!function(e,t,n,o,s){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof i.parcelRequire0d22&&i.parcelRequire0d22,p=r.cache||{},a="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function l(t,n){if(!p[t]){if(!e[t]){var o="function"==typeof i.parcelRequire0d22&&i.parcelRequire0d22;if(!n&&o)return o(t,!0);if(r)return r(t,!0);if(a&&"string"==typeof t)return a(t);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}c.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},c.cache={};var u=p[t]=new l.Module(t);e[t][0].call(u.exports,c,u,u.exports,this)}return p[t].exports;function c(e){var t=c.resolve(e);return!1===t?{}:l(t)}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=e,l.cache=p,l.parent=r,l.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(l,"root",{get:function(){return i.parcelRequire0d22}}),i.parcelRequire0d22=l;for(var u=0;u<t.length;u++)l(t[u]);var c=l(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define((function(){return c}))}({d5C7b:[function(e,t,n){var o=e("./popup-lib-src/Component.js"),s=e("./popup-lib-src/Attribute.js"),i=e("./Button.js"),r=e("./Config.js");class p extends r.Config{constructor(e,t={}){super(t),this.createTitleElement(e),this.generatePopupElement()}createTitleElement(e){this.titleElemet=new o.Component("h2",e,"popup-title").element}createButtonsWrapperElement(){return new o.Component("div","","popup-buttons").element}addBackdropCloseEvent(){this.customBackdrop&&this.customBackdrop.closeOnClick&&this.backdrop.addEventListener("click",(e=>{e.target===this.backdrop&&this.hide()}))}addButtonCloseEvent(){this.buttons&&this.buttons.filter((e=>!0===e.closeOnClick)).forEach((e=>e.element.addEventListener("click",(()=>this.hide()))))}popupContentsJoin(){const e=this.createButtonsWrapperElement();e.append(...this.buttonElements),this.popupElement.append(this.titleElemet),this.popupContentElement&&this.popupElement.append(this.popupContentElement),this.popupElement.append(e)}addPopupToWrappers(){this.backdrop.append(this.popupElement),this.wrapperElement=new o.Component("div","").element,this.wrapperElement.append(this.backdrop)}generatePopupElement(){this.addBackdropCloseEvent(),this.addButtonCloseEvent(),this.generateButtonElements(),this.popupContentsJoin(),this.addPopupToWrappers()}show(){document.body.append(this.wrapperElement),this.revealAnimation(this.wrapperElement,this.popupElement)}hide(){this.hideAnimation(this.wrapperElement,this.popupElement)}}new p("What are Cookies?",{customCss:"siema popup",backdrop:{customCss:"siema popupjs-backdrop"},buttons:[new i.Button("Console",!1,(()=>console.log("This button does nothing")),"custom"),new i.Button("Close",!0,!1),new i.Button("Close2",!0,!1)],position:"top",content:{elementType:"div",innerHTML:"Cookies are small text files that websites place on the computers and mobile devices of people who visit those websites.",attributes:[new s.Attribute("id","foobar"),new s.Attribute("data","hello")]},animation:{type:"zoomFade"}})},{"./popup-lib-src/Component.js":"80pIu","./popup-lib-src/Attribute.js":"61hEH","./Button.js":"4FZtO","./Config.js":"fRg7A"}],"80pIu":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"Component",(()=>s));class s{constructor(e,t,n,o){this.initValues(e,t,n,o)}initValues(e,t,n,o){if(!e||""===e)throw"cannot create element without type";this.type=e,this.element=this.getTypedElement(),t&&(this.text=t,this.element.innerHTML=this.text),n&&(this.cssClass=n,this.addClassesToElement(this.element,this.cssClass)),o&&(this.attributes=Array.isArray(o)?o:[o],this.addAttributesToElement(this.element,this.attributes))}addClassesToElement(e,t){e.className=t}addAttributesToElement(e,t){t.forEach((t=>{e.setAttribute(t.attrId,t.value)}))}getTypedElement(){return document.createElement(this.type)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],k3151:[function(e,t,n){n.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},n.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.exportAll=function(e,t){return Object.keys(e).forEach((function(n){"default"===n||"__esModule"===n||t.hasOwnProperty(n)||Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[n]}})})),t},n.export=function(e,t,n){Object.defineProperty(e,t,{enumerable:!0,get:n})}},{}],"61hEH":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"Attribute",(()=>s));class s{constructor(e,t){this.attrId=e,this.value=t}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"4FZtO":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"Button",(()=>i));var s=e("./popup-lib-src/Component.js");class i extends s.Component{constructor(e="Ok",t=!0,n=!1,o="popup-button-default",s){super("button",e,o,s),this.initButton(t,n)}getButtonElement(){return this.element}initButton(e,t){this.closeOnClick=e,this.callbackFunc=t,t&&this.element.addEventListener("click",t)}}},{"./popup-lib-src/Component.js":"80pIu","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],fRg7A:[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"Config",(()=>a));var s=e("./popup-lib-src/Component.js"),i=e("./Backdrop.js"),r=e("./Button.js"),p=e("./CustomAnimation.js");class a extends p.CustomAnimation{constructor(e){super(e.animation),this.initOptions(e)}getDefaultButton(){return new r.Button("Ok",!0,!1,"popup-button-default")}generateButtonElements(){this.buttonElements=[],this.buttons.forEach((e=>{this.buttonElements.push(e.element)}))}getDefaultPosition(){return"middle"}getCustomBackdrop(e){return this.customBackdrop=new i.Backdrop(e),this.customBackdrop.getBackdropElement()}createInnerPopupContentElement(e){return new s.Component(e.elementType,e.innerHTML,e.customCss,e.attributes).element}createMainPopupElement(e){const t=e.customCss?e.customCss:"popup";this.popup=new s.Component("div","",t),this.popupElement=this.popup.element}positionOptionsHandler(e){if(e.position)switch(e.position){case"top":this.backdrop.style="align-items: baseline";break;case"bottom":this.backdrop.style="align-items: end"}}CSSOptionHandler(e){e.customCss?this.customCss=e.customCss:this.customCss="popup"}innerContentOptionsHandler(e){e.content&&(this.popupContentElement=this.createInnerPopupContentElement(e.content))}backdropOptionsHandler(e){this.backdrop=e.backdrop?this.getCustomBackdrop(e.backdrop):(new i.Backdrop).getBackdropElement()}buttonOptionsHandler(e){this.buttons=e.buttons?e.buttons:[this.getDefaultButton()]}initOptions(e){this.createMainPopupElement(e),this.backdropOptionsHandler(e),this.buttonOptionsHandler(e),this.CSSOptionHandler(e),this.innerContentOptionsHandler(e),this.positionOptionsHandler(e)}}},{"./popup-lib-src/Component.js":"80pIu","./Backdrop.js":"7HEXo","./Button.js":"4FZtO","./CustomAnimation.js":"6Apr6","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"7HEXo":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"Backdrop",(()=>i));var s=e("./popup-lib-src/Component.js");class i extends s.Component{constructor(e={closeOnClick:!0,clickThrough:!1}){super("div","","popupjs-backdrop"),this.initOptions(e)}initOptions(e){!1!==e.closeOnClick&&(this.closeOnClick=!0),!0===e.clickThrough&&(this.element.style.pointerEvents="none"),e.customCss&&(this.element.className=e.customCss)}getBackdropElement(){return this.element}}},{"./popup-lib-src/Component.js":"80pIu","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}],"6Apr6":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"CustomAnimation",(()=>s));class s{duration={reveal:.5,hide:.5};animationType={zoom:"transform: scale(0.1)",fade:"opacity: 0",zoomFade:"transform: scale(0.8); opacity: 0",custom:"custom css class",none:""};getInlineStyle(){}constructor(e={type:"zoom"}){this.optionsHandler(e)}typeOptionHandler(e){if(e)switch(e){case"zoom":this.selectedAnimationType=this.animationType.zoom;break;case"fade":this.selectedAnimationType=this.animationType.fade;break;case"zoomFade":this.selectedAnimationType=this.animationType.zoomFade;break;case"none":this.selectedAnimationType=this.animationType.none,this.duration={reveal:0,hide:0};break;default:throw"Invalid animation type"}}durationOptionHandler(e){if(e&&e.duration){if(!e.duration.reveal||!e.duration.hide)throw"You need to specify duration hide and duration reveal";this.duration.reveal=e.duration.reveal,this.duration.hide=e.duration.hide}}optionsHandler(e){this.typeOptionHandler(e.type),this.durationOptionHandler(e)}revealAnimation(e,t){e.style=`opacity: 0; transition: ${this.duration.reveal}s`,t.style=`${this.selectedAnimationType}; transition: ${this.duration.reveal}s`,setTimeout((()=>{e.style=`transition: ${this.duration.reveal}s`,t.style=`transition: ${this.duration.reveal}s`}),1)}hideAnimation(e,t){e.style=`opacity: 0; transition: ${this.duration.hide}s; pointer-events: none;`,t.style=`${this.selectedAnimationType}; transition: ${this.duration.hide}s`,setTimeout((()=>{e.remove()}),1e3*this.duration.hide)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["d5C7b"],"d5C7b");
//# sourceMappingURL=popup.js.map
